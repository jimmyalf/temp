/*    This SQL DDL script was generated by Microsoft Visual Studio (Release Date: LOCAL BUILD). */

/*    Driver Used : Microsoft Visual Studio - Microsoft SQL Server Driver.                    */
/*    Document    : M:\Dokument\Projekt - Spinit\WPC\Database Design Synologen OPQ.vsd.       */
/*    Time Created: 26 October 2009 12:27.                                                    */
/*    Operation   : From Visio Generate Wizard.                                               */
/*    Connected data source : No connection.                                                  */
/*    Connected server      : No connection.                                                  */
/*    Connected database    : Not applicable.                                                 */



SET QUOTED_IDENTIFIER ON

go

/* Create new table "SynologenOpqFileCategories".                                             */
/* "SynologenOpqFileCategories" : Table of SynologenOpqFileCategories                         */
/* 	"Id" : Id identifies SynologenOpqFileCategories                                           */
/* 	"Name " : Name  is of SynologenOpqFileCategories                                          */
/* 	"IsActive" : IsActive is of SynologenOpqFileCategories                                    */
/* 	"CreatedById" : CreatedById is of SynologenOpqFileCategories                              */
/* 	"CreatedByName" : CreatedByName is of SynologenOpqFileCategories                          */
/* 	"CreatedDate" : CreatedDate is of SynologenOpqFileCategories                              */
/* 	"ChangedById" : ChangedById is of SynologenOpqFileCategories                              */
/* 	"ChangedByName" : ChangedByName is of SynologenOpqFileCategories                          */
/* 	"ChangedDate" : ChangedDate is of SynologenOpqFileCategories                              */  
create table "SynologenOpqFileCategories" ( 
	"Id" int identity not null,
	"Name " nvarchar(512) not null,
	"IsActive" bit not null,
	"CreatedById" int not null,
	"CreatedByName" nvarchar(100) not null,
	"CreatedDate" datetime not null,
	"ChangedById" int null,
	"ChangedByName" nvarchar(100) null,
	"ChangedDate" datetime null)  

go

alter table "SynologenOpqFileCategories"
	add constraint "SynologenOpqFileCategories_PK" primary key ("Id")   


go

/* Create new table "SynologenOpqNodeSupplierConnections".                                    */
/* "SynologenOpqNodeSupplierConnections" : Table of SynologenOpqNodeSupplierConnections       */
/* 	"NdeId" : NdeId identifies SynologenOpqNodeSupplierConnections                            */
/* 	"SupId" : SupId partly identifies SynologenOpqNodeSupplierConnections                     */  
create table "SynologenOpqNodeSupplierConnections" ( 
	"NdeId" int not null,
	"SupId" int not null)  

go

alter table "SynologenOpqNodeSupplierConnections"
	add constraint "SynologenOpqNodeSupplierConnections_PK" primary key ("NdeId", "SupId")   


go

/* Create new table "SynologenOpqDocumentTypes".                                              */
/* "SynologenOpqDocumentTypes" : Table of SynologenOpqDocumentTypes                           */
/* 	"Id" : Id identifies SynologenOpqDocumentTypes                                            */
/* 	"Name" : SynologenOPQDocumentTypesName is of SynologenOpqDocumentTypes                    */  
create table "SynologenOpqDocumentTypes" ( 
	"Id" int identity not null,
	"Name" nvarchar(512) not null)  

go

alter table "SynologenOpqDocumentTypes"
	add constraint "SynologenOpqDocumentTypes_PK" primary key ("Id")   


go

/* Create new table "SynologenOpqDocuments".                                                  */
/* "SynologenOpqDocuments" : Table of SynologenOpqDocuments                                   */
/* 	"Id" : Id identifies SynologenOpqDocuments                                                */
/* 	"NdeId" : NdeId is of SynologenOpqDocuments                                               */
/* 	"ShpId" : ShpId is of SynologenOpqDocuments                                               */
/* 	"CncId" : CncId is of SynologenOpqDocuments                                               */
/* 	"DocTpeId" : DocTpeId is of SynologenOpqDocuments                                         */
/* 	"Document" : Document is of SynologenOpqDocuments                                         */
/* 	"IsActive" : IsActive is of SynologenOpqDocuments                                         */
/* 	"CreatedById" : CreatedById is of SynologenOpqDocuments                                   */
/* 	"CreatedByName" : CreatedByName is of SynologenOpqDocuments                               */
/* 	"CreatedDate" : CreatedDate is of SynologenOpqDocuments                                   */
/* 	"ChangedById" : ChangedById is of SynologenOpqDocuments                                   */
/* 	"ChangedByName" : ChangedByName is of SynologenOpqDocuments                               */
/* 	"ChangedDate" : ChangedDate is of SynologenOpqDocuments                                   */
/* 	"ApprovedById" : ApprovedById is of SynologenOpqDocuments                                 */
/* 	"ApprovedByName" : ApprovedByName is of SynologenOpqDocuments                             */
/* 	"ApprovedDate" : ApprovedDate is of SynologenOpqDocuments                                 */
/* 	"LockedById" : LockedById is of SynologenOpqDocuments                                     */
/* 	"LockedByName" : LockedByName is of SynologenOpqDocuments                                 */
/* 	"LockedDate" : LockedDate is of SynologenOpqDocuments                                     */  
create table "SynologenOpqDocuments" ( 
	"Id" int identity not null,
	"NdeId" int not null,
	"ShpId" int null,
	"CncId" int null,
	"DocTpeId" int not null,
	"Document" ntext not null,
	"IsActive" bit not null,
	"CreatedById" int not null,
	"CreatedByName" nvarchar(100) not null,
	"CreatedDate" datetime not null,
	"ChangedById" int null,
	"ChangedByName" nvarchar(100) null,
	"ChangedDate" datetime null,
	"ApprovedById" int null,
	"ApprovedByName" nvarchar(100) null,
	"ApprovedDate" datetime null,
	"LockedById" int null,
	"LockedByName" nvarchar(100) null,
	"LockedDate" datetime null)  

go

alter table "SynologenOpqDocuments"
	add constraint "SynologenOpqDocuments_PK" primary key ("Id")   


go

/* Create new table "SynologenOpqNodes".                                                      */
/* "SynologenOpqNodes" : Table of SynologenOpqNodes                                           */
/* 	"Id" : Id identifies SynologenOpqNodes                                                    */
/* 	"Parent" : Parent is of SynologenOpqNodes                                                 */
/* 	"Order" : Order is of SynologenOpqNodes                                                   */
/* 	"Name" : SynologenOPQNodesName is of SynologenOpqNodes                                    */
/* 	"IsActive" : IsActive is of SynologenOpqNodes                                             */
/* 	"CreatedById" : CreatedById is of SynologenOpqNodes                                       */
/* 	"CreatedByName" : CreatedByName is of SynologenOpqNodes                                   */
/* 	"CreatedDate" : CreatedDate is of SynologenOpqNodes                                       */
/* 	"ChangedById" : ChangedById is of SynologenOpqNodes                                       */
/* 	"ChangedByName" : ChangedByName is of SynologenOpqNodes                                   */
/* 	"ChangedDate" : ChangedDate is of SynologenOpqNodes                                       */
/* 	"ApprovedById" : ApprovedById is of SynologenOpqNodes                                     */
/* 	"ApprovedByName" : ApprovedByName is of SynologenOpqNodes                                 */
/* 	"ApprovedDate" : ApprovedDate is of SynologenOpqNodes                                     */
/* 	"LockedById" : LockedById is of SynologenOpqNodes                                         */
/* 	"LockedByName" : LockedByName is of SynologenOpqNodes                                     */
/* 	"LockedDate" : LockedDate is of SynologenOpqNodes                                         */  
create table "SynologenOpqNodes" ( 
	"Id" int identity not null,
	"Parent" int null,
	"Order" int not null,
	"Name" nvarchar(512) not null,
	"IsActive" bit not null,
	"CreatedById" int not null,
	"CreatedByName" nvarchar(100) not null,
	"CreatedDate" datetime not null,
	"ChangedById" int null,
	"ChangedByName" nvarchar(100) null,
	"ChangedDate" datetime null,
	"ApprovedById" int null,
	"ApprovedByName" nvarchar(100) null,
	"ApprovedDate" datetime null,
	"LockedById" int null,
	"LockedByName" nvarchar(100) null,
	"LockedDate" datetime null)  

go

alter table "SynologenOpqNodes"
	add constraint "SynologenOpqNodes_PK" primary key ("Id")   


go

/* Create new table "SynologenOpqFiles".                                                      */
/* "SynologenOpqFiles" : Table of SynologenOpqFiles                                           */
/* 	"Id" : Id identifies SynologenOpqFiles                                                    */
/* 	"Order" : Order is of SynologenOpqFiles                                                   */
/* 	"FleCatId" : FleCatId is of SynologenOpqFiles                                             */
/* 	"FleId" : FleId is of SynologenOpqFiles                                                   */
/* 	"NdeId" : NdeId is of SynologenOpqFiles                                                   */
/* 	"ShpId" : ShpId is of SynologenOpqFiles                                                   */
/* 	"CncId" : CncId is of SynologenOpqFiles                                                   */
/* 	"IsActive" : IsActive is of SynologenOpqFiles                                             */
/* 	"CreatedById" : CreatedById is of SynologenOpqFiles                                       */
/* 	"CreatedByName" : CreatedByName is of SynologenOpqFiles                                   */
/* 	"CreatedDate" : CreatedDate is of SynologenOpqFiles                                       */
/* 	"ChangedById" : ChangedById is of SynologenOpqFiles                                       */
/* 	"ChangedByName" : ChangedByName is of SynologenOpqFiles                                   */
/* 	"ChangedDate" : ChangedDate is of SynologenOpqFiles                                       */
/* 	"ApprovedById" : ApprovedById is of SynologenOpqFiles                                     */
/* 	"ApprovedByName" : ApprovedByName is of SynologenOpqFiles                                 */
/* 	"ApprovedDate" : ApprovedDate is of SynologenOpqFiles                                     */
/* 	"LockedById" : LockedById is of SynologenOpqFiles                                         */
/* 	"LockedByName" : LockedByName is of SynologenOpqFiles                                     */
/* 	"LockedDate" : LockedDate is of SynologenOpqFiles                                         */  
create table "SynologenOpqFiles" ( 
	"Id" int identity not null,
	"Order" int not null,
	"FleCatId" int not null,
	"FleId" int not null,
	"NdeId" int not null,
	"ShpId" int null,
	"CncId" int null,
	"IsActive" bit not null,
	"CreatedById" int not null,
	"CreatedByName" nvarchar(100) not null,
	"CreatedDate" datetime not null,
	"ChangedById" int null,
	"ChangedByName" nvarchar(100) null,
	"ChangedDate" datetime null,
	"ApprovedById" int null,
	"ApprovedByName" nvarchar(100) null,
	"ApprovedDate" datetime null,
	"LockedById" int null,
	"LockedByName" nvarchar(100) null,
	"LockedDate" datetime null)  

go

alter table "SynologenOpqFiles"
	add constraint "SynologenOpqFiles_PK" primary key ("Id")   


go

/* Create new table "SynologenOpqDocumentHistories".                                          */
/* "SynologenOpqDocumentHistories" : Table of SynologenOpqDocumentHistories                   */
/* 	"Id" : Id identifies SynologenOpqDocumentHistories                                        */
/* 	"HistoryDate" : HistoryDate partly identifies SynologenOpqDocumentHistories               */
/* 	"HistoryId" : HistoryId is of SynologenOpqDocumentHistories                               */
/* 	"HistoryName" : HistoryName is of SynologenOpqDocumentHistories                           */
/* 	"NdeId" : NdeId is of SynologenOpqDocumentHistories                                       */
/* 	"ShpId" : ShpId is of SynologenOpqDocumentHistories                                       */
/* 	"CncId" : CncId is of SynologenOpqDocumentHistories                                       */
/* 	"DocTpeId" : DocTpeId is of SynologenOpqDocumentHistories                                 */
/* 	"Document" : Document is of SynologenOpqDocumentHistories                                 */
/* 	"IsActive" : IsActive is of SynologenOpqDocumentHistories                                 */
/* 	"CreatedById" : CreatedById is of SynologenOpqDocumentHistories                           */
/* 	"CreatedByName" : CreatedByName is of SynologenOpqDocumentHistories                       */
/* 	"CreatedDate" : CreatedDate is of SynologenOpqDocumentHistories                           */
/* 	"ChangedById" : ChangedById is of SynologenOpqDocumentHistories                           */
/* 	"ChangedByName" : ChangedByName is of SynologenOpqDocumentHistories                       */
/* 	"ChangedDate" : ChangedDate is of SynologenOpqDocumentHistories                           */
/* 	"ApprovedById" : ApprovedById is of SynologenOpqDocumentHistories                         */
/* 	"ApprovedByName" : ApprovedByName is of SynologenOpqDocumentHistories                     */
/* 	"ApprovedDate" : ApprovedDate is of SynologenOpqDocumentHistories                         */
/* 	"LockedById" : LockedById is of SynologenOpqDocumentHistories                             */
/* 	"LockedByName" : LockedByName is of SynologenOpqDocumentHistories                         */
/* 	"LockedDate" : LockedDate is of SynologenOpqDocumentHistories                             */  
create table "SynologenOpqDocumentHistories" ( 
	"Id" int not null,
	"HistoryDate" datetime not null,
	"HistoryId" int not null,
	"HistoryName" nvarchar(100) not null,
	"NdeId" int not null,
	"ShpId" int null,
	"CncId" int null,
	"DocTpeId" int not null,
	"Document" ntext not null,
	"IsActive" bit not null,
	"CreatedById" int not null,
	"CreatedByName" nvarchar(100) not null,
	"CreatedDate" datetime not null,
	"ChangedById" int null,
	"ChangedByName" nvarchar(100) null,
	"ChangedDate" datetime null,
	"ApprovedById" int null,
	"ApprovedByName" nvarchar(100) null,
	"ApprovedDate" datetime null,
	"LockedById" int null,
	"LockedByName" nvarchar(100) null,
	"LockedDate" datetime null)  

go

alter table "SynologenOpqDocumentHistories"
	add constraint "SynologenOpqDocumentHistories_PK" primary key ("Id", "HistoryDate")   


go

/* Add foreign key constraints to table "SynologenOpqFileCategories".                         */
alter table "SynologenOpqFileCategories"
	add constraint "tblBaseUsers_SynologenOpqFileCategories_FK1" foreign key (
		"CreatedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFileCategories"
	add constraint "tblBaseUsers_SynologenOpqFileCategories_FK2" foreign key (
		"ChangedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

/* Add foreign key constraints to table "SynologenOpqNodeSupplierConnections".                */
alter table "SynologenOpqNodeSupplierConnections"
	add constraint "SynologenOpqNodes_SynologenOpqNodeSupplierConnections_FK1" foreign key (
		"NdeId")
	 references "SynologenOpqNodes" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqNodeSupplierConnections"
	add constraint "tblBaseUsers_SynologenOpqNodeSupplierConnections_FK1" foreign key (
		"SupId")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

/* Add foreign key constraints to table "SynologenOpqDocuments".                              */
alter table "SynologenOpqDocuments"
	add constraint "SynologenOpqNodes_SynologenOpqDocuments_FK1" foreign key (
		"NdeId")
	 references "SynologenOpqNodes" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblBaseUsers_SynologenOpqDocuments_FK1" foreign key (
		"CreatedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblBaseUsers_SynologenOpqDocuments_FK2" foreign key (
		"ChangedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblBaseUsers_SynologenOpqDocuments_FK3" foreign key (
		"ApprovedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblBaseUsers_SynologenOpqDocuments_FK4" foreign key (
		"LockedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "SynologenOpqDocumentTypes_SynologenOpqDocuments_FK1" foreign key (
		"DocTpeId")
	 references "SynologenOpqDocumentTypes" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblSynologenShop_SynologenOpqDocuments_FK1" foreign key (
		"ShpId")
	 references "tblSynologenShop" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqDocuments"
	add constraint "tblSynologenConcern_SynologenOpqDocuments_FK1" foreign key (
		"CncId")
	 references "tblSynologenConcern" (
		"cId") on update no action on delete no action  

go

/* Add foreign key constraints to table "SynologenOpqNodes".                                  */
alter table "SynologenOpqNodes"
	add constraint "SynologenOpqNodes_SynologenOpqNodes_FK1" foreign key (
		"Parent")
	 references "SynologenOpqNodes" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqNodes"
	add constraint "tblBaseUsers_SynologenOpqNodes_FK1" foreign key (
		"CreatedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqNodes"
	add constraint "tblBaseUsers_SynologenOpqNodes_FK2" foreign key (
		"ChangedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqNodes"
	add constraint "tblBaseUsers_SynologenOpqNodes_FK3" foreign key (
		"ApprovedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqNodes"
	add constraint "tblBaseUsers_SynologenOpqNodes_FK4" foreign key (
		"LockedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

/* Add foreign key constraints to table "SynologenOpqFiles".                                  */
alter table "SynologenOpqFiles"
	add constraint "tblBaseFile_SynologenOpqFiles_FK1" foreign key (
		"FleId")
	 references "tblBaseFile" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "SynologenOpqNodes_SynologenOpqFiles_FK1" foreign key (
		"NdeId")
	 references "SynologenOpqNodes" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblBaseUsers_SynologenOpqFiles_FK1" foreign key (
		"CreatedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblBaseUsers_SynologenOpqFiles_FK2" foreign key (
		"ChangedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblBaseUsers_SynologenOpqFiles_FK3" foreign key (
		"ApprovedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblBaseUsers_SynologenOpqFiles_FK4" foreign key (
		"LockedById")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "SynologenOpqFileCategories_SynologenOpqFiles_FK1" foreign key (
		"FleCatId")
	 references "SynologenOpqFileCategories" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblSynologenShop_SynologenOpqFiles_FK1" foreign key (
		"ShpId")
	 references "tblSynologenShop" (
		"cId") on update no action on delete no action  

go

alter table "SynologenOpqFiles"
	add constraint "tblSynologenConcern_SynologenOpqFiles_FK1" foreign key (
		"CncId")
	 references "tblSynologenConcern" (
		"cId") on update no action on delete no action  

go

/* Add foreign key constraints to table "SynologenOpqDocumentHistories".                      */
alter table "SynologenOpqDocumentHistories"
	add constraint "SynologenOpqDocuments_SynologenOpqDocumentHistories_FK1" foreign key (
		"Id")
	 references "SynologenOpqDocuments" (
		"Id") on update no action on delete no action  

go

alter table "SynologenOpqDocumentHistories"
	add constraint "tblBaseUsers_SynologenOpqDocumentHistories_FK1" foreign key (
		"HistoryId")
	 references "tblBaseUsers" (
		"cId") on update no action on delete no action  

go


/* This is the end of the Microsoft Visual Studio generated SQL DDL script.                   */
